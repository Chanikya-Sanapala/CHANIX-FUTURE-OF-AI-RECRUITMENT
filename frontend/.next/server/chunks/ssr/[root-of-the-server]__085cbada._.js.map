{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/SMART_ENGINE/frontend/src/app/%28components%29/Login/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\n\r\nexport default function LoginPage() {\r\n  const [formData, setFormData] = useState({ email: '', password: '', userType: '' });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Debug: Log state changes\r\n  useEffect(() => {\r\n    console.log('üîÑ Form state updated:', formData);\r\n  }, [formData]);\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setMessage('');\r\n    setIsLoading(true);\r\n\r\n    // Validation\r\n    if (!formData.email || !formData.password) {\r\n      setMessage('‚ùå Please fill in all required fields');\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (!formData.userType) {\r\n      setMessage('‚ùå Please select a user type');\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    console.log('üîê Attempting login with:', {\r\n      email: formData.email,\r\n      userType: formData.userType,\r\n      passwordLength: formData.password.length\r\n    });\r\n\r\n    try {\r\n      // Call the backend API\r\n      const baseUrl = process.env.NEXT_PUBLIC_BACKEND_URL || \"http://localhost:5005\";\r\n      const res = await fetch(`${baseUrl}/api/auth/login`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify(formData),\r\n      });\r\n      const data = await res.json();\r\n      console.log('üì® Login response:', { status: res.status, data });\r\n\r\n      const payload = data?.data || {};\r\n      const token = payload.token;\r\n      const user = payload.user;\r\n\r\n      if (res.ok && data.success && token && user) {\r\n        setMessage('‚úÖ ' + data.message);\r\n        console.log('üéâ Login successful, redirecting...');\r\n\r\n        // Store token in localStorage\r\n        localStorage.setItem('token', token);\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n\r\n        setTimeout(() => {\r\n          // Prefer backend userType, but fall back to the selected form userType\r\n          const type = (user?.userType || formData.userType || '').toLowerCase();\r\n          let path = '/jobseeker-dashboard';\r\n          if (type === 'recruiter') path = '/recruiter-dashboard';\r\n          else if (type === 'admin' || type === 'administrator') path = '/admin-dashboard';\r\n\r\n          try {\r\n            const encoded = btoa(JSON.stringify({ user, token, userType: user.userType }));\r\n            window.location.href = `${path}?u=${encodeURIComponent(encoded)}`;\r\n          } catch (_) {\r\n            window.location.href = path;\r\n          }\r\n        }, 1200);\r\n      } else {\r\n        console.log('‚ùå Login failed:', data);\r\n        setMessage('‚ùå ' + (data?.message || 'Login failed'));\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Login error:', error);\r\n      setMessage('‚ùå Network error: Could not connect to server. Make sure backend is running on port 5005.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      inset: '0',\r\n      zIndex: 50,\r\n      backgroundColor: '#000000',\r\n      backgroundImage: `\r\n        radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), \r\n        radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), \r\n        radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%)\r\n      `,\r\n      overflowY: 'auto'\r\n    }}>\r\n      <div style={{\r\n        minHeight: '100%',\r\n        width: '100%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '16px'\r\n      }}>\r\n        <style jsx global>{`\r\n        .glass-login-card {\r\n          background: rgba(255, 255, 255, 0.1) !important;\r\n          backdrop-filter: blur(16px);\r\n          -webkit-backdrop-filter: blur(16px);\r\n          border: 1px solid rgba(255, 255, 255, 0.2);\r\n          border-radius: 24px;\r\n          padding: 48px;\r\n          width: 100%;\r\n          max-width: 420px;\r\n          box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);\r\n          margin: 0 !important;\r\n        }\r\n\r\n        .glass-title {\r\n          color: white;\r\n          font-size: 32px;\r\n          font-weight: 700;\r\n          text-align: center;\r\n          margin-bottom: 32px;\r\n          letter-spacing: -0.5px;\r\n        }\r\n\r\n        .glass-input-wrapper {\r\n          position: relative;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .glass-input-field {\r\n          width: 100%;\r\n          background: rgba(255, 255, 255, 0.05);\r\n          border: 1px solid rgba(255, 255, 255, 0.1);\r\n          border-radius: 12px;\r\n          padding: 16px 16px 16px 48px;\r\n          color: white;\r\n          font-size: 15px;\r\n          outline: none;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .glass-input-field::placeholder {\r\n          color: rgba(255, 255, 255, 0.4);\r\n        }\r\n\r\n        .glass-input-field:focus {\r\n          background: rgba(255, 255, 255, 0.1);\r\n          border-color: rgba(255, 255, 255, 0.3);\r\n        }\r\n\r\n        .glass-input-field option {\r\n          background: #1a1a1a;\r\n          color: white;\r\n        }\r\n\r\n        .glass-icon {\r\n          position: absolute;\r\n          left: 16px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          font-size: 18px;\r\n          opacity: 0.7;\r\n          z-index: 10;\r\n        }\r\n\r\n        .glass-toggle-password {\r\n          position: absolute;\r\n          right: 16px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          cursor: pointer;\r\n          font-size: 18px;\r\n          opacity: 0.7;\r\n        }\r\n\r\n        .glass-toggle-password:hover {\r\n          opacity: 1;\r\n        }\r\n\r\n        .glass-btn-primary {\r\n          width: 100%;\r\n          background: white;\r\n          color: black;\r\n          font-weight: 600;\r\n          padding: 16px;\r\n          border-radius: 12px;\r\n          border: none;\r\n          font-size: 16px;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          margin-top: 24px;\r\n        }\r\n\r\n        .glass-btn-primary:hover {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 4px 12px rgba(0,0,0,0.2);\r\n        }\r\n\r\n        .glass-btn-primary:disabled {\r\n          opacity: 0.7;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .glass-forgot-wrapper {\r\n          text-align: right;\r\n          margin-top: 8px;\r\n        }\r\n\r\n        .glass-forgot-link {\r\n          color: rgba(255, 255, 255, 0.6);\r\n          font-size: 14px;\r\n          text-decoration: none;\r\n          transition: color 0.2s;\r\n        }\r\n\r\n        .glass-forgot-link:hover {\r\n          color: white;\r\n        }\r\n\r\n        .glass-footer-text {\r\n          text-align: center;\r\n          margin-top: 24px;\r\n          color: rgba(255, 255, 255, 0.6);\r\n          font-size: 14px;\r\n        }\r\n\r\n        .glass-link {\r\n          color: white;\r\n          font-weight: 600;\r\n          text-decoration: none;\r\n        }\r\n\r\n        .glass-link:hover {\r\n          text-decoration: underline;\r\n        }\r\n      `}</style>\r\n\r\n        <form className=\"glass-login-card\" onSubmit={handleLogin}>\r\n          <h1 className=\"glass-title\">Welcome Back</h1>\r\n          <p style={{ textAlign: 'center', color: 'rgba(255,255,255,0.6)', marginBottom: '32px', marginTop: '-24px', fontSize: '15px' }}>\r\n            Enter your credentials to access your account\r\n          </p>\r\n\r\n          {message && (\r\n            <div style={{\r\n              textAlign: 'center',\r\n              fontSize: '14px',\r\n              marginBottom: '24px',\r\n              padding: '12px',\r\n              borderRadius: '12px',\r\n              color: message.includes('‚úÖ') ? '#86efac' : '#fca5a5',\r\n              backgroundColor: message.includes('‚úÖ') ? 'rgba(22, 101, 52, 0.2)' : 'rgba(153, 27, 27, 0.2)',\r\n              border: `1px solid ${message.includes('‚úÖ') ? 'rgba(134, 239, 172, 0.2)' : 'rgba(252, 165, 165, 0.2)'}`,\r\n              backdropFilter: 'blur(4px)'\r\n            }}>\r\n              {message}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"glass-input-wrapper\">\r\n            <span className=\"glass-icon email-icon\">‚úâÔ∏è</span>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email address\"\r\n              className=\"glass-input-field\"\r\n              value={formData.email}\r\n              onChange={(e) => {\r\n                console.log('Email changed to:', e.target.value);\r\n                setFormData({ ...formData, email: e.target.value });\r\n              }}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"glass-input-wrapper\">\r\n            <span className=\"glass-icon\">üë§</span>\r\n            <select\r\n              className=\"glass-input-field\"\r\n              value={formData.userType}\r\n              onChange={(e) => {\r\n                console.log('User type changed to:', e.target.value);\r\n                setFormData({ ...formData, userType: e.target.value });\r\n              }}\r\n              style={{ paddingLeft: '48px', appearance: 'none' }}\r\n              required\r\n            >\r\n              <option value=\"\">Select User Type</option>\r\n              <option value=\"jobseeker\">Job Seeker</option>\r\n              <option value=\"recruiter\">Recruiter</option>\r\n              <option value=\"admin\">Administrator</option>\r\n            </select>\r\n            <span style={{ position: 'absolute', right: '16px', top: '50%', transform: 'translateY(-50%)', pointerEvents: 'none', color: 'rgba(255,255,255,0.4)', fontSize: '12px' }}>‚ñº</span>\r\n          </div>\r\n\r\n          <div className=\"glass-input-wrapper\">\r\n            <span className=\"glass-icon password-icon\">üîí</span>\r\n            <input\r\n              type={showPassword ? 'text' : 'password'}\r\n              placeholder=\"Password\"\r\n              className=\"glass-input-field\"\r\n              value={formData.password}\r\n              onChange={(e) => {\r\n                console.log('Password changed, length:', e.target.value.length);\r\n                setFormData({ ...formData, password: e.target.value });\r\n              }}\r\n              required\r\n            />\r\n            <span className=\"glass-toggle-password\" onClick={() => setShowPassword(!showPassword)}>{showPassword ? 'üôà' : 'üëÅÔ∏è'}</span>\r\n          </div>\r\n          <div className=\"glass-forgot-wrapper\">\r\n            <Link href=\"/ForgotPassword\" className=\"glass-forgot-link\">Forgot password?</Link>\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"glass-btn-primary\" disabled={isLoading}>\r\n            {isLoading ? 'Signing in...' : 'Sign In'}\r\n          </button>\r\n\r\n          <p className=\"glass-footer-text\">\r\n            Don&apos;t have an account? <Link href=\"/Signup\" className=\"glass-link\">Sign up</Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}