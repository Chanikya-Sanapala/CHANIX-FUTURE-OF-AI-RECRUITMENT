{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanap/OneDrive/Attachments/Desktop/Smart-Engine1/frontend/src/app/%28components%29/ForgotPassword/page.jsx"],"sourcesContent":["\"use client\"\r\n// ForgotPassword\r\n\r\nimport { React, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Box from \"@mui/material/Box\";\r\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Container from \"@mui/material/Container\";\r\nimport {\r\n    Card,\r\n    CardContent\r\n} from \"@mui/material\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n// // import Swal from \"sweetalert2\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n\r\nconst ForgotPassword = () => {\r\n\r\n  const [loading,setLoading] = useState(true)\r\n    const router = useRouter();\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        const data = new FormData(e.currentTarget);\r\n        const email = data.get(\"email\");\r\n        const url = \"http://localhost:5000/api/auth/request-password-reset\";\r\n        // setTimeout(() => {\r\n        //     router.push('/Login');\r\n        // },8000);\r\n//         // ...\r\n//         // Swal.fire({\r\n//         // icon: 'success',\r\n//         // title: 'Password reset email sent. Please check your inbox.',\r\n//         // text: data.message\r\n//         // });\r\n        // console.log(\"Email:\", data);\r\n\r\n\r\n        // const res = await axios.post(url, { email: email });\r\n        // if(!res.data.success){\r\n        //     toast.error(res.data.message, {\r\n        //         autoClose: 5000,\r\n        //         position: \"top-right\",\r\n        //     });\r\n        // }\r\n        // if (res.data.success === false) {\r\n        //     toast.error(res.data.message, {\r\n        //         autoClose: 5000,\r\n        //         position: \"top-right\",\r\n        //     });\r\n        // } else {\r\n        //     toast.success(res.data.message, {\r\n        //         autoClose: 3000,\r\n        //         position: \"top-right\",\r\n        //         onClose: () => {\r\n        //             router.push('/Login');\r\n        //         }\r\n        //     });\r\n        // }\r\n\r\n\r\n    try {\r\n    const res = await axios.post(url, { email });\r\n    \r\n    // Success\r\n    if (!res.data.error) {\r\n      toast.success(res.data.message, { position: \"top-right\", autoClose: 5000,\r\n        onClose: () => {\r\n            router.push('/Login');\r\n        }\r\n      });\r\n    } else {\r\n      toast.error(res.data.message, { position: \"top-right\", autoClose: 5000 });\r\n    }\r\n  } catch (error) {\r\n    // Axios errors have a response object\r\n    if (error.response) {\r\n      // Backend responded with a status code out of 2xx range\r\n      toast.error(`Error: ${error.response.data.message || error.response.statusText}`, {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n      });\r\n    } else if (error.request) {\r\n      // Request was made but no response\r\n      toast.error(\"Network error: Server did not respond\", {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n      });\r\n    } else {\r\n      // Something else happened\r\n      toast.error(`Error: ${error.message}`, { position: \"top-right\", autoClose: 5000 });\r\n    }\r\n  }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Any side effects or data fetching can go here\r\n        setLoading(false);\r\n      }, []);\r\n      \r\n      if (loading) {\r\n        return (\r\n          <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n            <div className=\"text-center\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n              <p className=\"mt-4 text-gray-600\">Loading Forgot Password...</p>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    \r\n\r\n    return (\r\n        <div>\r\n        <Container maxWidth=\"sm\">\r\n            <Box\r\n                sx={{\r\n                    marginTop: 10,\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    alignItems: \"center\",\r\n                }}\r\n            >\r\n                <Card sx={{ boxShadow: \"4\" }}>\r\n                    <CardContent sx={{ m: 3 }}>\r\n                        <Avatar sx={{\r\n                            m: \"auto\",\r\n                            bgcolor: \"primary.main\"\r\n                        }}>\r\n                            <LockOutlinedIcon />\r\n                        </Avatar>\r\n                        <Typography component=\"h1\"\r\n                            variant=\"h5\" sx={{ mt: 1 }}>\r\n                            Forgot Password\r\n                        </Typography>\r\n\r\n                        <Box component=\"form\"\r\n                            onSubmit={submitHandler} sx={{ mt: 1 }}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"email\"\r\n                                label=\"Email Address\"\r\n                                name=\"email\"\r\n                                autoComplete=\"email\"\r\n                                autoFocus\r\n                            />\r\n                            <Button\r\n                                type=\"submit\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                sx={{ mt: 3, mb: 2 }}\r\n                            >\r\n                                Reset Password\r\n                            </Button>\r\n                            <a href=\"/Login\" className=\"forgot-link\">Back to Login</a>\r\n                        </Box>\r\n                        <ToastContainer />\r\n                    </CardContent>\r\n                </Card>\r\n            </Box>\r\n        </Container>\r\n        <ToastContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;\r\n\r\n\r\n\r\n// import { useRouter } from \"next/navigation\";\r\n// import { useState } from \"react\";\r\n// import axios from \"axios\";\r\n// import { toast, ToastContainer } from \"react-toastify\";\r\n// import \"react-toastify/dist/ReactToastify.css\";\r\n\r\n// export default function ForgotPassword() {\r\n//   const router = useRouter();\r\n//   const [email, setEmail] = useState(\"\");\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   const submitHandler = async (e) => {\r\n//     e.preventDefault();\r\n//     setLoading(true);\r\n\r\n//     try {\r\n//       const res = await axios.post(\"http://localhost:5000/api/auth/request-password-reset\", { email });\r\n\r\n//       if (res.data.success) {\r\n//         toast.success(res.data.message, { autoClose: 5000, position: \"top-right\" });\r\n\r\n//         setTimeout(() => {\r\n//           router.push(\"/Login\"); // navigate after toast\r\n//         }, 1500);\r\n//       } else {\r\n//         toast.error(res.data.message || \"Something went wrong\", { autoClose: 5000, position: \"top-right\" });\r\n//       }\r\n//     } catch (err) {\r\n//       toast.error(err.response?.data?.message || \"Network error. Try again.\", { autoClose: 5000, position: \"top-right\" });\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div style={{ maxWidth: \"400px\", margin: \"50px auto\", textAlign: \"center\" }}>\r\n//       {/* <h2>Forgot Password</h2> */}\r\n//       <Container maxWidth=\"sm\">\r\n//              <Box\r\n//                 sx={{\r\n//                     marginTop: 10,\r\n//                     display: \"flex\",\r\n//                     flexDirection: \"column\",\r\n//                     alignItems: \"center\",\r\n//                 }}\r\n//             >\r\n//                 <Card sx={{ boxShadow: \"4\" }}>\r\n//                     <CardContent sx={{ m: 3 }}>\r\n//                         <Avatar sx={{\r\n//                             m: \"auto\",\r\n//                             bgcolor: \"primary.main\"\r\n//                         }}>\r\n//                             <LockOutlinedIcon />\r\n//                         </Avatar>\r\n//                         <Typography component=\"h1\"\r\n//                             variant=\"h5\" sx={{ mt: 1 }}>\r\n//                             Forgot Password\r\n//                         </Typography>\r\n\r\n//                         <Box component=\"form\"\r\n//                             onSubmit={submitHandler} sx={{ mt: 1 }}>\r\n//                             <TextField\r\n//                                 margin=\"normal\"\r\n//                                 required\r\n//                                 fullWidth\r\n//                                 id=\"email\"\r\n//                                 label=\"Email Address\"\r\n//                                 name=\"email\"\r\n//                                 autoComplete=\"email\"\r\n//                                 autoFocus\r\n//                             />\r\n//                             <Button\r\n//                                 type=\"submit\"\r\n//                                 fullWidth\r\n//                                 variant=\"contained\"\r\n//                                 sx={{ mt: 3, mb: 2 }}\r\n//                             >\r\n//                                 Reset Password\r\n//                             </Button>\r\n//                             <a href=\"/Login\" className=\"forgot-link\">Back to Login</a>\r\n//                         </Box>\r\n//                         <ToastContainer />\r\n//                     </CardContent>\r\n//                 </Card>\r\n//             </Box>\r\n//         </Container>\r\n//       <ToastContainer />\r\n//     </div>\r\n//   );\r\n// }\r\n"],"names":[],"mappings":"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","debugId":null}}]
}