{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Smart-Engine/frontend/src/app/%28components%29/ResumeMatcher/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction ResumeMatcher() {\r\n  const [jd, setJd] = useState(null);\r\n  const [resume, setResume] = useState(null);\r\n  const [result, setResult] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Toast state\r\n  const [toast, setToast] = useState({ message: \"\", type: \"\", visible: false });\r\n\r\n  const topk = 35;\r\n  const fuzzy = 85;\r\n\r\n  const showToast = (message, type = \"success\") => {\r\n    setToast({ message, type, visible: true });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (toast.visible) {\r\n      const timer = setTimeout(() => {\r\n        setToast((prev) => ({ ...prev, visible: false }));\r\n      }, 3000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [toast.visible]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!jd || !resume) {\r\n      showToast(\"Please select both JD and Resume files!\", \"error\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    const formData = new FormData();\r\n    formData.append(\"jd\", jd);\r\n    formData.append(\"resume\", resume);\r\n    formData.append(\"topk\", topk);\r\n    formData.append(\"fuzzy\", fuzzy);\r\n\r\n    try {\r\n      const response = await axios.post(\"http://localhost:8000/api/match\", formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n\r\n      console.log(\"API Response:\", response.data);\r\n\r\n      if (response.data) {\r\n        const data = response.data;\r\n\r\n        // Extract matched terms from matched_pairs\r\n        const matched_terms = data.matched_pairs?.map((pair) => pair[0]) || [];\r\n        const missing_terms = data.missing || [];\r\n        const suggestions = missing_terms.length\r\n          ? [`Consider adding missing terms: ${missing_terms.slice(0, 5).join(\", \")}...`]\r\n          : [\"All required terms are present\"];\r\n\r\n        setResult({\r\n          match_score: data.score,\r\n          coverage: data.coverage,\r\n          tfidf: data.tfidf,\r\n          exact: data.exact_overlap,\r\n          matched_terms,\r\n          missing_terms,\r\n          suggestions,\r\n        });\r\n\r\n        showToast(`Resume matched successfully! Score: ${data.score}`, \"success\");\r\n      } else {\r\n        setResult({ error: \"No result returned from API\" });\r\n        showToast(\"Matching failed\", \"error\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error:\", err);\r\n      setResult({ error: err.message });\r\n      showToast(err.message || \"Something went wrong!\", \"error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6 relative\">\r\n\r\n      {/* Toast */}\r\n      {toast.visible && (\r\n        <div\r\n          className={`fixed top-5 right-5 px-4 py-3 rounded shadow-lg text-white z-50 transform transition-transform duration-300 ${\r\n            toast.visible ? \"translate-y-0 opacity-100\" : \"translate-y-[-20px] opacity-0\"\r\n          } ${toast.type === \"success\" ? \"bg-green-500\" : \"bg-red-500\"}`}\r\n        >\r\n          {toast.message}\r\n        </div>\r\n      )}\r\n\r\n      <h2 className=\"text-3xl font-bold mb-4 text-center\">Resume Matcher</h2>\r\n\r\n      {/* Selected files */}\r\n      {/* <div className=\"mb-4\">\r\n        {jd && <p>JD File: <span className=\"font-semibold\">{jd.name}</span></p>}\r\n        {resume && <p>Resume File: <span className=\"font-semibold\">{resume.name}</span></p>}\r\n        <p>TopK: {topk}, Fuzzy: {fuzzy}</p>\r\n      </div> */}\r\n\r\n      <form onSubmit={handleSubmit} className=\"flex flex-col md:flex-row gap-4 mb-6\">\r\n        <input\r\n          type=\"file\"\r\n          onChange={(e) => setJd(e.target.files[0])}\r\n          className=\"border p-2 rounded w-full md:w-1/2\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"file\"\r\n          onChange={(e) => setResume(e.target.files[0])}\r\n          className=\"border p-2 rounded w-full md:w-1/2\"\r\n          required\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n        >\r\n          {loading ? \"Matching...\" : \"Match Resume\"}\r\n        </button>\r\n      </form>\r\n\r\n      {/* Error message */}\r\n      {result?.error && (\r\n        <p className=\"text-red-600 font-semibold\">{result.error}</p>\r\n      )}\r\n\r\n      {/* Result display */}\r\n      {result && !result.error && (\r\n        <>\r\n          {/* Match Score */}\r\n          <div className=\"bg-white shadow rounded p-4 mb-6\">\r\n            <h4 className=\"text-xl font-semibold mb-2\">Match Score</h4>\r\n            <div className=\"w-full bg-gray-200 rounded h-6 mb-2\">\r\n              <div\r\n                className={`h-6 rounded transition-all duration-500 ${\r\n                  result.match_score > 80 ? \"bg-green-500\" : result.match_score > 50 ? \"bg-yellow-500\" : \"bg-red-500\"\r\n                }`}\r\n                style={{ width: `${result.match_score || 0}%` }}\r\n              ></div>\r\n            </div>\r\n            <p className=\"text-gray-700\">\r\n              Coverage: {result.coverage ?? 0}, TF-IDF: {result.tfidf ?? 0}, Exact: {result.exact ?? 0}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Matched & Missing Terms */}\r\n          <div className=\"grid md:grid-cols-2 gap-4 mb-6\">\r\n            {/* Matched Terms */}\r\n            <div className=\"bg-white shadow rounded p-4\">\r\n              <h5 className=\"font-semibold mb-2\">\r\n                Matched Terms ({result.matched_terms?.length || 0})\r\n              </h5>\r\n              <div className=\"flex flex-wrap gap-2 max-h-64 overflow-auto\">\r\n                {result.matched_terms?.length > 0 ? (\r\n                  result.matched_terms.map((term, idx) => (\r\n                    <span key={idx} className=\"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm\">\r\n                      {term}\r\n                    </span>\r\n                  ))\r\n                ) : (\r\n                  <span className=\"text-gray-700\">None ✅</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Missing Terms */}\r\n            <div className=\"bg-white shadow rounded p-4\">\r\n              <h5 className=\"font-semibold mb-2\">\r\n                Missing Terms ({result.missing_terms?.length || 0})\r\n              </h5>\r\n              <div className=\"flex flex-wrap gap-2 max-h-64 overflow-auto\">\r\n                {result.missing_terms?.length > 0 ? (\r\n                  result.missing_terms.map((term, idx) => (\r\n                    <span key={idx} className=\"bg-red-100 text-red-800 px-2 py-1 rounded-full text-sm\">\r\n                      {term}\r\n                    </span>\r\n                  ))\r\n                ) : (\r\n                  <span className=\"text-gray-700\">None missing ✅</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Suggestions */}\r\n          <div className=\"bg-white shadow rounded p-4\">\r\n            <h5 className=\"font-semibold mb-2\">Suggestions</h5>\r\n            <ul className=\"list-disc list-inside text-gray-800\">\r\n              {result.suggestions?.length > 0 ? (\r\n                result.suggestions.map((sug, idx) => <li key={idx}>{sug}</li>)\r\n              ) : (\r\n                <li className=\"text-gray-700\">No suggestions</li>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResumeMatcher;\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}