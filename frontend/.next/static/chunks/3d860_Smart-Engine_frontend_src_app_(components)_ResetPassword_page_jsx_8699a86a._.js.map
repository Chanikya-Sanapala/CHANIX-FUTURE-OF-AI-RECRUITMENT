{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Smart-Engine/frontend/src/app/%28components%29/ResetPassword/page.jsx"],"sourcesContent":["// //ResetPassword.js \r\n// \"use client\";\r\n\r\n// import { React, useState, useEffect } from \"react\";\r\n// import { useSearchParams,useRouter } from \"next/navigation\";\r\n// import axios from \"axios\";\r\n// import Avatar from \"@mui/material/Avatar\";\r\n// import Button from \"@mui/material/Button\";\r\n// import TextField from \"@mui/material/TextField\";\r\n// import Box from \"@mui/material/Box\";\r\n// import LockResetIcon from \"@mui/icons-material/LockReset\";\r\n// import Typography from \"@mui/material/Typography\";\r\n// import Container from \"@mui/material/Container\";\r\n// import { Card,CardContent } from \"@mui/material\";\r\n// import { toast, ToastContainer } from \"react-toastify\";\r\n// import 'react-toastify/dist/ReactToastify.css';\r\n// // import { useRouter } from \"next/navigation\";\r\n\r\n// const ResetPassword = () => {\r\n//     const searchParams = useSearchParams();\r\n//     const [loading,setLoading] = useState(true)\r\n//     // const router = useRouter()\r\n//     const userId = searchParams.get(\"UserId\");\r\n//     const token = searchParams.get(\"token\");\r\n//     console.log(\"UserId:\", userId, \"token:\",token);\r\n\r\n//     const submitHandle = async (e) => {\r\n//         e.preventDefault();\r\n//         const data = new FormData(e.currentTarget);\r\n//         const newpassword = data.get(\"newpassword\");\r\n//         const confirmpassword = data.get(\"confirmpassword\");\r\n//         console.log(\"New Password:\", newpassword, \"Confirm Password:\", confirmpassword);\r\n//         if (newpassword !== confirmpassword)\r\n//             toast.error(`New Password and \r\n//                          Confirm Password do not match !`, {\r\n//                 autoClose: 5000,\r\n//                 position: \"top-right\",\r\n//             });\r\n//         else {\r\n//             const url = \"http://localhost:5000/api/auth/update-password\";\r\n//                 // process.env.REACT_APP_BACKEND_URL \r\n//                 //                             + \"/api/resetPassword\";\r\n//             const res = await axios.post(url, {\r\n//                 password: newpassword,\r\n//                 token: token,\r\n//                 userId: userId,\r\n//             });\r\n//             if (res.data.success === false) {\r\n//                 toast.error(res.data.message, {\r\n//                     autoClose: 5000,\r\n//                     position: \"top-right\",\r\n//                 });\r\n//             }\r\n//             if(res.status === 400){\r\n//                 toast.error(res.data.message, {\r\n//                     autoClose: 5000,\r\n//                     position: \"top-right\",\r\n//                 });\r\n//             } else {\r\n//                 toast.success(res.data.message, {\r\n//                     autoClose: 5000,\r\n//                     position: \"top-right\",\r\n//                 });\r\n//                 setTimeout(() => {\r\n//                     navigation.navigate('/Login');\r\n//                     //   router.push('/Login');;\r\n//                 }, 2000);\r\n//             }\r\n//         }\r\n//     };\r\n\r\n//     useEffect(() => {\r\n//         // Any side effects or data fetching can go here\r\n//         setLoading(false);\r\n//       }, []);\r\n      \r\n//       if (loading) {\r\n//         return (\r\n//           <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n//             <div className=\"text-center\">\r\n//               <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n//               <p className=\"mt-4 text-gray-600\">Loading Reset Password...</p>\r\n//             </div>\r\n//           </div>\r\n//         );\r\n//       }\r\n    \r\n\r\n//     return (\r\n//         <div>\r\n//         <Container maxWidth=\"sm\">\r\n//             <Box\r\n//                 sx={{\r\n//                     marginTop: 10,\r\n//                     display: \"flex\",\r\n//                     flexDirection: \"column\",\r\n//                     alignItems: \"center\",\r\n//                 }}\r\n//             >\r\n//                 <Card sx={{ boxShadow: \"4\" }}>\r\n//                     <CardContent sx={{ m: 3 }}>\r\n//                         <Avatar sx={{ m: \"auto\", \r\n//                                       bgcolor: \"primary.main\" }}>\r\n//                             <LockResetIcon />\r\n//                         </Avatar>\r\n//                         <Typography component=\"h1\" \r\n//                                     variant=\"h5\" \r\n//                                     sx={{ mt: 1 }}>\r\n//                             Reset Password\r\n//                         </Typography>\r\n\r\n//                         <Box component=\"form\"\r\n//                              onSubmit={submitHandle} \r\n//                              sx={{ mt: 1 }}>\r\n//                             <TextField\r\n//                                 margin=\"normal\"\r\n//                                 required\r\n//                                 fullWidth\r\n//                                 type=\"password\"\r\n//                                 name=\"newpassword\"\r\n//                                 id=\"newpassword\"\r\n//                                 label=\"New Password\"\r\n//                                 autoFocus\r\n//                             />\r\n//                             <TextField\r\n//                                 margin=\"normal\"\r\n//                                 required\r\n//                                 fullWidth\r\n//                                 type=\"password\"\r\n//                                 name=\"confirmpassword\"\r\n//                                 id=\"confirmpassword\"\r\n//                                 label=\"Confirm Password\"\r\n//                             />\r\n//                             <Button\r\n//                                 type=\"submit\"\r\n//                                 fullWidth\r\n//                                 variant=\"contained\"\r\n//                                 sx={{ mt: 3, mb: 2 }}\r\n//                             >\r\n//                                 Submit\r\n//                             </Button>\r\n//                         </Box>\r\n//                     </CardContent>\r\n//                 </Card>\r\n//             </Box>\r\n//         </Container>\r\n//         <ToastContainer />\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default ResetPassword;\r\n\r\n// ResetPassword.js\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport axios from \"axios\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Box from \"@mui/material/Box\";\r\nimport LockResetIcon from \"@mui/icons-material/LockReset\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Container from \"@mui/material/Container\";\r\nimport { Card, CardContent } from \"@mui/material\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst ResetPassword = () => {\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n\r\n  const userId = searchParams.get(\"UserId\");\r\n  const token = searchParams.get(\"token\");\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // You could check token validity here if needed\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const submitHandle = async (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n    const newPassword = data.get(\"newpassword\");\r\n    const confirmPassword = data.get(\"confirmpassword\");\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      toast.error(\"New Password and Confirm Password do not match!\", {\r\n        autoClose: 5000,\r\n        position: \"top-right\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSubmitting(true);\r\n\r\n      const url = \"http://localhost:5000/api/auth/update-password\";\r\n      const res = await axios.post(url, {\r\n        password: newPassword,\r\n        token: token,\r\n        userId: userId,\r\n      });\r\n\r\n      if (res.data.success === false) {\r\n        toast.error(res.data.message, { autoClose: 5000, position: \"top-right\" });\r\n      } else {\r\n        toast.success(res.data.message, { autoClose: 5000, position: \"top-right\" });\r\n        setTimeout(() => {\r\n          router.push(\"/Login\");\r\n        }, 2000);\r\n      }\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || \"Something went wrong!\", {\r\n        autoClose: 5000,\r\n        position: \"top-right\",\r\n      });\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading Reset Password...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Box\r\n        sx={{\r\n          marginTop: 10,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Card sx={{ boxShadow: 4 }}>\r\n          <CardContent sx={{ m: 3 }}>\r\n            <Avatar sx={{ m: \"auto\", bgcolor: \"primary.main\" }}>\r\n              <LockResetIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\" sx={{ mt: 1 }}>\r\n              Reset Password\r\n            </Typography>\r\n\r\n            <Box component=\"form\" onSubmit={submitHandle} sx={{ mt: 1 }}>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                type=\"password\"\r\n                name=\"newpassword\"\r\n                id=\"newpassword\"\r\n                label=\"New Password\"\r\n                autoFocus\r\n                autoComplete=\"new-password\"\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                type=\"password\"\r\n                name=\"confirmpassword\"\r\n                id=\"confirmpassword\"\r\n                label=\"Confirm Password\"\r\n                autoComplete=\"new-password\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n                disabled={submitting}\r\n              >\r\n                {submitting ? \"Submitting...\" : \"Submit\"}\r\n              </Button>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Box>\r\n      <ToastContainer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}