{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Desktop/Smart-Engine/frontend/src/app/%28components%29/ResetPassword/page.jsx"],"sourcesContent":["//ResetPassword.js \r\n\"use client\";\r\n\r\nimport { React, useState, useEffect } from \"react\";\r\nimport { useSearchParams,useRouter } from \"next/navigation\";\r\nimport axios from \"axios\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Box from \"@mui/material/Box\";\r\nimport LockResetIcon from \"@mui/icons-material/LockReset\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Container from \"@mui/material/Container\";\r\nimport { Card,CardContent } from \"@mui/material\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n// import { useRouter } from \"next/navigation\";\r\n\r\nconst ResetPassword = () => {\r\n    const searchParams = useSearchParams();\r\n    const [loading,setLoading] = useState(true)\r\n    // const router = useRouter()\r\n    const userId = searchParams.get(\"UserId\");\r\n    const token = searchParams.get(\"token\");\r\n    console.log(\"UserId:\", userId, \"token:\",token);\r\n\r\n    const submitHandle = async (e) => {\r\n        e.preventDefault();\r\n        const data = new FormData(e.currentTarget);\r\n        const newpassword = data.get(\"newpassword\");\r\n        const confirmpassword = data.get(\"confirmpassword\");\r\n        console.log(\"New Password:\", newpassword, \"Confirm Password:\", confirmpassword);\r\n        if (newpassword !== confirmpassword)\r\n            toast.error(`New Password and \r\n                         Confirm Password do not match !`, {\r\n                autoClose: 5000,\r\n                position: \"top-right\",\r\n            });\r\n        else {\r\n            const url = \"http://localhost:5000/api/auth/update-password/\";\r\n                // process.env.REACT_APP_BACKEND_URL \r\n                //                             + \"/api/resetPassword\";\r\n            const res = await axios.post(url, {\r\n                password: newpassword,\r\n                token: token,\r\n                userId: userId,\r\n            });\r\n            if (res.data.success === false) {\r\n                toast.error(res.data.message, {\r\n                    autoClose: 5000,\r\n                    position: \"top-right\",\r\n                });\r\n            }\r\n            if(res.status === 400){\r\n                toast.error(res.data.message, {\r\n                    autoClose: 5000,\r\n                    position: \"top-right\",\r\n                });\r\n            } else {\r\n                toast.success(res.data.message, {\r\n                    autoClose: 5000,\r\n                    position: \"top-right\",\r\n                });\r\n                setTimeout(() => {\r\n                    navigation.navigate('/Login');\r\n                    //   router.push('/Login');;\r\n                }, 2000);\r\n            }\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Any side effects or data fetching can go here\r\n        setLoading(false);\r\n      }, []);\r\n      \r\n      if (loading) {\r\n        return (\r\n          <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n            <div className=\"text-center\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n              <p className=\"mt-4 text-gray-600\">Loading Reset Password...</p>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    \r\n\r\n    return (\r\n        <div>\r\n        <Container maxWidth=\"sm\">\r\n            <Box\r\n                sx={{\r\n                    marginTop: 10,\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    alignItems: \"center\",\r\n                }}\r\n            >\r\n                <Card sx={{ boxShadow: \"4\" }}>\r\n                    <CardContent sx={{ m: 3 }}>\r\n                        <Avatar sx={{ m: \"auto\", \r\n                                      bgcolor: \"primary.main\" }}>\r\n                            <LockResetIcon />\r\n                        </Avatar>\r\n                        <Typography component=\"h1\" \r\n                                    variant=\"h5\" \r\n                                    sx={{ mt: 1 }}>\r\n                            Reset Password\r\n                        </Typography>\r\n\r\n                        <Box component=\"form\"\r\n                             onSubmit={submitHandle} \r\n                             sx={{ mt: 1 }}>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                type=\"password\"\r\n                                name=\"newpassword\"\r\n                                id=\"newpassword\"\r\n                                label=\"New Password\"\r\n                                autoFocus\r\n                            />\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                type=\"password\"\r\n                                name=\"confirmpassword\"\r\n                                id=\"confirmpassword\"\r\n                                label=\"Confirm Password\"\r\n                            />\r\n                            <Button\r\n                                type=\"submit\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                sx={{ mt: 3, mb: 2 }}\r\n                            >\r\n                                Submit\r\n                            </Button>\r\n                        </Box>\r\n                    </CardContent>\r\n                </Card>\r\n            </Box>\r\n        </Container>\r\n        <ToastContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ResetPassword;"],"names":[],"mappings":"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","debugId":null}}]
}