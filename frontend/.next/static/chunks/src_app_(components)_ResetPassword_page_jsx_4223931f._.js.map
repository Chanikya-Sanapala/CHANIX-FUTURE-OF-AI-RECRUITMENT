{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanap/OneDrive/Attachments/Desktop/Smart-Engine1/frontend/src/app/%28components%29/ResetPassword/page.jsx"],"sourcesContent":["// // ResetPassword.js\r\n// \"use client\";\r\n\r\n// import { useState, useEffect } from \"react\";\r\n// import { useSearchParams, useRouter } from \"next/navigation\";\r\n// import axios from \"axios\";\r\n// import Avatar from \"@mui/material/Avatar\";\r\n// import Button from \"@mui/material/Button\";\r\n// import TextField from \"@mui/material/TextField\";\r\n// import Box from \"@mui/material/Box\";\r\n// import LockResetIcon from \"@mui/icons-material/LockReset\";\r\n// import Typography from \"@mui/material/Typography\";\r\n// import Container from \"@mui/material/Container\";\r\n// import { Card, CardContent } from \"@mui/material\";\r\n// import { toast, ToastContainer } from \"react-toastify\";\r\n// import \"react-toastify/dist/ReactToastify.css\";\r\n\r\n// const ResetPassword = () => {\r\n//   const searchParams = useSearchParams();\r\n//   const router = useRouter();\r\n\r\n//   const userId = searchParams.get(\"UserId\");\r\n//   const token = searchParams.get(\"token\");\r\n\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [submitting, setSubmitting] = useState(false);\r\n\r\n//   useEffect(() => {\r\n//     // You could check token validity here if needed\r\n//     setLoading(false);\r\n//   }, []);\r\n\r\n//   const submitHandle = async (e) => {\r\n//     e.preventDefault();\r\n//     const data = new FormData(e.currentTarget);\r\n//     const newPassword = data.get(\"newpassword\");\r\n//     const confirmPassword = data.get(\"confirmpassword\");\r\n\r\n//     if (newPassword !== confirmPassword) {\r\n//       toast.error(\"New Password and Confirm Password do not match!\", {\r\n//         autoClose: 5000,\r\n//         position: \"top-right\",\r\n//       });\r\n//       return;\r\n//     }\r\n\r\n//     try {\r\n//       setSubmitting(true);\r\n\r\n//       const url = \"http://localhost:5000/api/auth/update-password\";\r\n//       const res = await axios.post(url, {\r\n//         password: newPassword,\r\n//         token: token,\r\n//         userId: userId,\r\n//       });\r\n\r\n//       if (res.data.success === false) {\r\n//         toast.error(res.data.message, { autoClose: 5000, position: \"top-right\" });\r\n//       } else {\r\n//         toast.success(res.data.message, { autoClose: 5000, position: \"top-right\" });\r\n//         setTimeout(() => {\r\n//           router.push(\"/Login\");\r\n//         }, 2000);\r\n//       }\r\n//     } catch (err) {\r\n//       toast.error(err.response?.data?.message || \"Something went wrong!\", {\r\n//         autoClose: 5000,\r\n//         position: \"top-right\",\r\n//       });\r\n//     } finally {\r\n//       setSubmitting(false);\r\n//     }\r\n//   };\r\n\r\n//   if (loading) {\r\n//     return (\r\n//       <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n//         <div className=\"text-center\">\r\n//           <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n//           <p className=\"mt-4 text-gray-600\">Loading Reset Password...</p>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <Container maxWidth=\"sm\">\r\n//       <Box\r\n//         sx={{\r\n//           marginTop: 10,\r\n//           display: \"flex\",\r\n//           flexDirection: \"column\",\r\n//           alignItems: \"center\",\r\n//         }}\r\n//       >\r\n//         <Card sx={{ boxShadow: 4 }}>\r\n//           <CardContent sx={{ m: 3 }}>\r\n//             <Avatar sx={{ m: \"auto\", bgcolor: \"primary.main\" }}>\r\n//               <LockResetIcon />\r\n//             </Avatar>\r\n//             <Typography component=\"h1\" variant=\"h5\" sx={{ mt: 1 }}>\r\n//               Reset Password\r\n//             </Typography>\r\n\r\n//             <Box component=\"form\" onSubmit={submitHandle} sx={{ mt: 1 }}>\r\n//               <TextField\r\n//                 margin=\"normal\"\r\n//                 required\r\n//                 fullWidth\r\n//                 type=\"password\"\r\n//                 name=\"newpassword\"\r\n//                 id=\"newpassword\"\r\n//                 label=\"New Password\"\r\n//                 autoFocus\r\n//                 autoComplete=\"new-password\"\r\n//               />\r\n//               <TextField\r\n//                 margin=\"normal\"\r\n//                 required\r\n//                 fullWidth\r\n//                 type=\"password\"\r\n//                 name=\"confirmpassword\"\r\n//                 id=\"confirmpassword\"\r\n//                 label=\"Confirm Password\"\r\n//                 autoComplete=\"new-password\"\r\n//               />\r\n//               <Button\r\n//                 type=\"submit\"\r\n//                 fullWidth\r\n//                 variant=\"contained\"\r\n//                 sx={{ mt: 3, mb: 2 }}\r\n//                 disabled={submitting}\r\n//               >\r\n//                 {submitting ? \"Submitting...\" : \"Submit\"}\r\n//               </Button>\r\n//             </Box>\r\n//           </CardContent>\r\n//         </Card>\r\n//       </Box>\r\n//       <ToastContainer />\r\n//     </Container>\r\n//   );\r\n// };\r\n\r\n// export default ResetPassword;\r\n\r\n\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport axios from \"axios\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Box from \"@mui/material/Box\";\r\nimport LockResetIcon from \"@mui/icons-material/LockReset\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Container from \"@mui/material/Container\";\r\nimport { Card, CardContent, IconButton, InputAdornment } from \"@mui/material\";\r\nimport Visibility from \"@mui/icons-material/Visibility\";\r\nimport VisibilityOff from \"@mui/icons-material/VisibilityOff\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst ResetPassword = () => {\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n\r\n  const userId = searchParams.get(\"UserId\");\r\n  const token = searchParams.get(\"token\");\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  // password visibility toggles\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const handleTogglePassword = () => setShowPassword((prev) => !prev);\r\n  const handleToggleConfirmPassword = () => setShowConfirmPassword((prev) => !prev);\r\n\r\n  const submitHandle = async (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n    const newPassword = data.get(\"newpassword\");\r\n    const confirmPassword = data.get(\"confirmpassword\");\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      toast.error(\"New Password and Confirm Password do not match!\", {\r\n        autoClose: 5000,\r\n        position: \"top-right\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      const url = \"http://localhost:5000/api/auth/update-password\";\r\n\r\n      const res = await axios.post(url, {\r\n        password: newPassword,\r\n        token: token,\r\n        userId: userId,\r\n      });\r\n\r\n      if (res.data.success === false) {\r\n        toast.error(res.data.message, { autoClose: 5000, position: \"top-right\" });\r\n      } else {\r\n        toast.success(res.data.message, { autoClose: 5000, position: \"top-right\" });\r\n        setTimeout(() => {\r\n          router.push(\"/Login\");\r\n        }, 2000);\r\n      }\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || \"Something went wrong!\", {\r\n        autoClose: 5000,\r\n        position: \"top-right\",\r\n      });\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading Reset Password...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Box\r\n        sx={{\r\n          marginTop: 10,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Card sx={{ boxShadow: 4 }}>\r\n          <CardContent sx={{ m: 3 }}>\r\n            <Avatar sx={{ m: \"auto\", bgcolor: \"primary.main\" }}>\r\n              <LockResetIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\" sx={{ mt: 1 }}>\r\n              Reset Password\r\n            </Typography>\r\n\r\n            <Box component=\"form\" onSubmit={submitHandle} sx={{ mt: 1 }}>\r\n              {/* New Password */}\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                name=\"newpassword\"\r\n                id=\"newpassword\"\r\n                label=\"New Password\"\r\n                autoFocus\r\n                autoComplete=\"new-password\"\r\n                InputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton onClick={handleTogglePassword} edge=\"end\">\r\n                        {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n\r\n              {/* Confirm Password */}\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                type={showConfirmPassword ? \"text\" : \"password\"}\r\n                name=\"confirmpassword\"\r\n                id=\"confirmpassword\"\r\n                label=\"Confirm Password\"\r\n                autoComplete=\"new-password\"\r\n                InputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton onClick={handleToggleConfirmPassword} edge=\"end\">\r\n                        {showConfirmPassword ? <VisibilityOff /> : <Visibility />}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n                disabled={submitting}\r\n              >\r\n                {submitting ? \"Submitting...\" : \"Submit\"}\r\n              </Button>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Box>\r\n      <ToastContainer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}